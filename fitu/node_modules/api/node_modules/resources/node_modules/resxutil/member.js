
var resxutil = require('resxutil');

exports.getFields = { '_id': 1, 'userId': 1, 'actId': 1, 'createdOn': 1, 'statusId': 1 };
exports.convMemberInfo = function (mem, users, acts) {
    var ret = { id: mem._id.toString(), statusId: mem.statusId, createdOn: mem.createdOn };
    var user = users.filter(function (usr) { return usr._id.equals(mem.userId); })[0];
    ret.user = user ? resxutil.user.convRelatedUserInfo(user) : null;
    var activity = acts.filter(function (a) { return a._id.equals(mem.actId); })[0];
    ret.activity = activity ? resxutil.activity.convRelatedActivityInfo(activity) : null;
    return ret;
};
