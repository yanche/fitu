
var resxutil = require('resxutil');

exports.getFields = { '_id': 1, 'userId': 1, 'actId': 1, 'createdOn': 1 };
exports.convMemberInfo = function (mem, users, preview) {
    var ret = { id: mem._id.toString(), createdOn: mem.createdOn };
    var user = users.filter(function (usr) { return usr._id.equals(mem.userId); })[0];
    ret.user = user ? (preview ? resxutil.user.convRelatedUserInfo(user) : resxutil.user.convPublicUserInfo(user)) : null;
    return ret;
};
