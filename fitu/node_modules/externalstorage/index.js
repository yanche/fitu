
var azurestorage = require('./azurestorage.js');
var qiniustorage = require('./qiniustorage.js');
var errdef = require('errdef');

var saveFile = function (buffer, filename, dirname) {
    return azurestorage.handle(buffer, filename, dirname)
    .then(function (ret) {
        return ret;
    })
    .catch(function (err) {
        throw new errdef.ExternalStorageError(err);
    });
};

azurestorage.init();
exports.saveFile = saveFile;
